<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <script>
      async function getData(data) {
        let my_obj = await fetch(data);
        let my_text = await my_obj.text();
        let product = JSON.parse(my_text);

        function generateProductCard(item) {
          return `<div class="col-lg-3 my-2">
                <div class="card card-products h-100">
                  <a href="product_site/product_${item.item_id}.html">
                    <img src="${item.image_card}" class="img-fluid card-img-top card_img_prod" alt="${item.item_name}"/>
                  </a>
                  <div class="card-body">
                    <hr />
                    <a class="card_name" href="product_site/product_${item.item_id}.html">
                      <h4 class="card_name" title="${item.item_name}">${item.item_name}</h4>
                    </a>
                    <p class="card_price fs-5">â‚±${item.price}</p>
                    <div>
                      <button class='btn add_cart_bt text-light w-100' id='add_cart${item.item_id}'>Add to cart</button>
                    </div>
                  </div>
                </div>
              </div>`;
        }

        function displayProducts(filteredProducts) {
          $("#products_display").empty(); // Clear existing content
          filteredProducts.forEach((item) => {
            $("#products_display").append(generateProductCard(item));
          });
        }

        $("#pcategories-dropdown").change(function () {
          const selectedCategory = $(this).val();
          const filteredProducts = product.filter(
            (item) =>
              selectedCategory === "all" || item.genre === selectedCategory
          );
          displayProducts(filteredProducts);
        });

        displayProducts(product);
      }

      getData("http://localhost:3001/api/product");
    </script>
    <title>Playstation World</title>
  </head>
  <body>
    <!-- TOP NAV -->

    <div class="container-fluid d-none d-sm-block" id="psw_topnav">
      <div class="container">
        <div class="row py-3" id="psw_topnav2">
          <div
            class="col-lg-4 d-flex justify-content-center align-items-center d-none d-sm-block"
          >
            <a href="#"
              ><img
                src="img/psw-logo.png"
                alt="weblogo"
                id="logo"
                width="300px"
            /></a>
          </div>

          <div class="col-lg-6">
            <form class="d-flex d-none d-sm-block">
              <div>
                <div class="input-group">
                  <input type="search" class="form-control" id="search-bar" />
                  <span class="input-group-text" id="search-bar-2"
                    ><a href="#" class="text-dark"
                      ><span class="material-symbols-outlined align-middle">
                        search
                      </span></a
                    ></span
                  >
                </div>
              </div>
            </form>
          </div>

          <div
            class="col-lg-2 d-flex justify-content-center align-items-center d-none d-sm-block text-center"
          >
            <a href="login-page.html" class="mx-2 nav_text">
              <span class="material-symbols-outlined mt-1 py-1">person</span>
            </a>
            <a href="cart-page.html" class="mx-2 nav_text">
              <span class="material-symbols-outlined mt-1 py-1"
                >shopping_cart</span
              >
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- NAVBAR -->

    <nav class="navbar navbar-expand-lg navbar-light" id="psw_navbar">
      <div class="container-fluid">
        <div class="container" id="nav_container">
          <button
            class="navbar-toggler text-white"
            data-bs-toggle="collapse"
            data-bs-target="#site-navbar"
          >
            <span class="navbar-toggler-icon"></span></button
          ><a href="#"
            ><img
              src="img/psw-logo-white.png"
              class="ms-4 d-sm-none"
              alt="weblogo"
              id="logo"
              width="200px"
          /></a>
          <div
            class="collapse navbar-collapse justify-content-center"
            id="site-navbar"
          >
            <ul class="navbar-nav w-100 nav-fill">
              <li class="nav-item">
                <a class="nav-link nav_link" href="index.html">
                  <strong>Home</strong></a
                >
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link nav_link dropdown-toggle"
                  href="#"
                  data-bs-toggle="dropdown"
                  id="shop_now_dd"
                  ><strong>Shop Now</strong></a
                >
                <ul class="dropdown-menu w-100 dd_shopnow">
                  <li>
                    <a
                      class="li_dd dropdown-item text-center text-light"
                      href="shop_game.html"
                    >
                      GAMES</a
                    >
                  </li>
                  <li>
                    <a
                      class="li_dd dropdown-item text-center text-light"
                      href="shop_ca.html"
                    >
                      CONSOLE | ACCESSORIES</a
                    >
                  </li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link nav_link" href="#">
                  <strong>About Us </strong></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link nav_link" href="#">
                  <strong>Contact Us </strong></a
                >
              </li>
              <div class="d-sm-none">
                <li class="nav-item">
                  <a class="nav-link nav_link" href="#">
                    <strong>My Cart </strong></a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link nav_link" href="#">
                    <strong>My Account </strong></a
                  >
                </li>
              </div>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <!-- CONTENT -->
    <div class="container-fluid mt-5 mb-5">
      <div class="container" id="shop_border">
        <div class="row m-3">
          <div class="row align-items-center justify-content-between">
            <div class="col-lg-3">
              <select class="form-select" id="pcategories-dropdown">
                <option value="select_genre" selected disabled>
                  Select product category...
                </option>
                <option value="all">All</option>
                <option value="console">Console</option>
                <option value="keyboard">Keyboard</option>
                <option value="headset">Headset</option>
                <option value="controller">Controller</option>
                <option value="arcade">Arcade</option>
                <option value="accessory">Accessory</option>
                <option value="merchandise">Merchandise</option>
                <option value="speakers">Speakers</option>
              </select>
            </div>
            <div class="col-lg-9 text-end">
              <a href="shop_game.html" id="prod_link">Games</a> |
              <strong>Console & Accessories</strong>
            </div>
          </div>
          <hr class="my-3" />
          <div class="row" id="products_display"></div>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <div class="container-fluid text-center" id="footer_newsletter">
      <div class="container pt-4">
        <div class="row">
          <div class="col-lg-6">
            <p class="text-light">
              <strong>Sign Up to Newsletter: </strong>Be the first to learn
              about promotions, special events, new arrivals and more!
            </p>
          </div>
          <div class="col-lg-6">
            <form
              class="d-flex align-items-center justify-content-center d-none d-sm-block"
            >
              <div>
                <div class="input-group">
                  <input
                    type="search"
                    class="form-control"
                    id="subscribe-bar"
                  />
                  <span class="input-group-text" id="subscribe-bar-2">
                    <a href="#" class="text-dark">
                      <span class="align-middle text-light">Subscribe </span>
                    </a>
                  </span>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid pb-5" id="footer-container">
      <br />
      <br />
      <div class="container" id="footer-container2">
        <div class="row">
          <div class="col-lg-3">
            <p class="fs-5"><strong>Contact Us</strong></p>
            <p class="fs-6 footer_link2">support@playstationworld.ph</p>
            <p class="fs-6 footer_link2">+63922 895 0320</p>
            <p class="fs-6 footer_link2">+63922 895 0323</p>
            <p class="fs-6 footer_link2">+639123456789</p>
          </div>
          <div class="col-lg-3">
            <p class="fs-5"><strong>COMPANY</strong></p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none">About Us</a>
            </p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none"
                >Terms of Use</a
              >
            </p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none">FAQs</a>
            </p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none"
                >Privacy and Policy</a
              >
            </p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none"
                >Store Locations</a
              >
            </p>
          </div>
          <div class="col-lg-3">
            <p class="fs-5"><strong>Customer Care</strong></p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none"
                >My Account</a
              >
            </p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none"
                >Shopping Cart</a
              >
            </p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none">Warranty</a>
            </p>
            <p class="fs-6">
              <a href="#" class="footer_link text-decoration-none">Feedback</a>
            </p>
          </div>
          <div class="col-lg-3">
            <p class="fs-5"><strong>Follow Us</strong></p>
            <a href="#"
              ><img
                src="img/footer-logo/facebook-logo.png"
                class="me-1 img-fluid footer_sm_logo"
            /></a>
            <a href="#"
              ><img
                src="img/footer-logo/instagram-logo.png"
                class="me-1 img-fluid footer_sm_logo"
            /></a>
            <a href="#"
              ><img
                src="img/footer-logo/tiktok-logo.png"
                class="me-1 img-fluid footer_sm_logo"
            /></a>
            <a href="#"
              ><img
                src="img/footer-logo/twitter-logo2.png"
                class="me-1 img-fluid footer_sm_logo"
            /></a>
          </div>
        </div>
      </div>
    </div>
    <div class="container-fluid py-3" id="footer_bottom">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 mt-2">
            <p id="fbot_text">
              Â© 2024 Dante Magbuhos Jr | dj.magbuhos@gmail.com & Keith Aquino |
              keithaquino@gmail.com
            </p>
          </div>
          <div class="col-lg-6" style="text-align: right">
            <img
              src="img/footer-logo/pay_logo_botfooter.png"
              alt="payment logos"
              width="280px"
            />
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
