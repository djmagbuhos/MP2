<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/site_body.js"></script>
    <script>
      let product;

      $(document).ready(function () {
        $(".add-cart").click(function () {
          if (product) {
            let image_card = product.image_card;
            let item_name = product.item_name;
            let price = product.price;

            let add_card =
              '<div class="card mb-3 shadow bg-white rounded">' +
              '<div class="card-body">' +
              '<div class="d-flex justify-content-between">' +
              '<div class="d-flex flex-row align-items-center">' +
              '<div class="border d-none d-lg-block">' +
              '<img src="' +
              image_card +
              '" class="img-fluid rounded-3 me-2" alt="' +
              item_name +
              '" style="width: 100px" />' +
              "</div>" +
              '<div class="ms-2 fs-5 d-none d-sm-block">' +
              "<strong><p>" +
              item_name +
              "</p></strong>" +
              "</div>" +
              '<div class="ms-2 d-block d-sm-none">' +
              "<strong><p>" +
              item_name +
              "</p></strong>" +
              "</div>" +
              "</div>" +
              '<div class="d-flex flex-row align-items-center">' +
              "<p>₱" +
              price +
              "</p>" +
              "</div>" +
              "</div>" +
              "</div>" +
              "</div>";

            // $("#tryappend").append(add_card);
            localStorage.setItem("add_card", add_card);
            window.location.href = "../cart_page.html";
          }
        });
      });

      async function getData(data) {
        let my_obj = await fetch(data);
        let my_text = await my_obj.text();
        product = JSON.parse(my_text);
      }

      getData("http://localhost:3001/api/games/1");
    </script>

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link rel="stylesheet" href="../css/styles.css" />

    <!-- UNIQUE PAGE STYLE FOR GAMES PAGES -->

    <title>Playstation World - Grand Theft Auto V</title>
  </head>
  <body id="games_body">
    <!-- TOP NAV -->
    <div class="container-fluid d-none d-sm-block" id="psw_topnav"></div>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-light" id="psw_navbar"></nav>

    <!-- CONTENT -->
    <div
      class="container-fluid text-light mx-0 px-0 pb-5 d-block d-sm-none"
      id="div_heroimg"
      style="background-color: rgb(51, 51, 51)"
    >
      <img src="../img/games/gta_v_card.webp" id="heroimg" />
      <div class="container">
        <div>
          <h1>Grand Theft Auto V</h1>
        </div>
        <div class="mb-5">
          <h5>Genre: Action-adventure</h5>
        </div>
        <div class="col-lg-6 mb-5">
          <p>
            Experience blockbuster hits Grand Theft Auto V and GTA Online - now
            upgraded for PlayStation 5 with stunning visuals, faster loading,
            adaptive triggers, haptic feedback, Tempest 3D audio and more, plus
            exclusive content for GTA Online players.
          </p>
        </div>
        <div>
          <h3>₱399.99</h3>
          <button class="btn add-cart text-light fs-5" id="add_game">
            Add to Cart
          </button>
        </div>
      </div>
    </div>

    <div
      class="container-fluid mx-0 px-0 position-relative d-none d-sm-block"
      id="div_heroimg"
    >
      <img src="../img/games/Main/gta_v_main.webp" id="heroimg" />
      <div
        class="container text-light position-absolute top-50 start-50 translate-middle"
      >
        <div>
          <h1>Grand Theft Auto V</h1>
        </div>
        <div class="mb-5">
          <h5>Genre: Action-adventure</h5>
        </div>
        <div class="col-lg-6 mb-5">
          <p>
            Experience blockbuster hits Grand Theft Auto V and GTA Online - now
            upgraded for PlayStation 5 with stunning visuals, faster loading,
            adaptive triggers, haptic feedback, Tempest 3D audio and more, plus
            exclusive content for GTA Online players.
          </p>
        </div>
        <div>
          <h3>₱399.99</h3>
          <button class="btn add-cart text-light fs-5" id="add_game">
            Add to Cart
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer_all"></footer>
  </body>
</html>
